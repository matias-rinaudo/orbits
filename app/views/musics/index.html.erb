<div class="container">
  	<div class="row">
	    <div class="col-md-12">
			<div class="card p-4 mb-4 mx-auto">
				<div class="row">
					<div class="col-md-6">
						<h2>Filtros de búsqueda</h2>
					</div>
					<div class="col-md-6 text-end">
						<%= link_to 'Nueva musica', new_music_path, class: 'btn btn-info' %>
					</div>
				</div>
				<%= search_form_for @q, url: musics_path do |f| %>
					<div class="row">
						<div class="col-md-12">
							<label>Autor</label>
	            			<%= f.search_field :author_eq, class: 'form-control' %>
						</div>
					</div>
					<br>
					<div class="row">
						<div class="col-md-6">
							<label>Titulo</label>
	            			<%= f.search_field :title_eq, class: 'form-control' %>
						</div>
						<div class="col-md-6">
							<label>Album</label>
	            			<%= f.search_field :album_eq, class: 'form-control' %>
						</div>
					</div>
					<br>
					<div class="row">
			            <div class="col-md-1">
                            <%= f.submit 'Buscar', :class => "btn btn-primary" %>
                        </div>
                        <div class="col-md-3" style="margin-left: -20px;">
                        	<%= link_to 'Limpiar filtros', musics_path, class: 'btn btn-danger' %>
                        </div>
					</div>
				<% end %>
				<hr class="custom-hr" />
				<div class="table-responsive" style="max-height: 400px; overflow-y: auto;">
					<table class="table table-striped table-hover" id="table-results-rapid-api">
						<thead>
							<tr>
								<th scope="col">Titulo</th>
								<th scope="col">Autor</th>
								<th scope="col">Album</th>
								<th scope="col">Duración</th>
								<th scope="col">¿Creado por sistema?</th>
								<th scope="col">Acciones</th>
							</tr>
						</thead>
						<tbody>
							<% @musics.map do |music| %>
								<tr>
									<td><%= music.title %></td>
									<td><%= music.author %></td>
									<td><%= music.album %></td>
									<td><%= music.duration %></td>
									<td><%= music.persisted_by_system? ? 'Si' : 'No' %></td>
									<td>
										<%= link_to 'Editar', edit_music_path(music), class: 'btn btn-info' %>
									</td>
								</tr>
							<% end %>
						</tbody>
					</table>
				</div>
				<div class="text-left my-4">
		            <div class="digg_pagination">
		              <%= will_paginate @musics, :container => false %>
		            </div>
		        </div>
			</div>
	    </div>
  	</div>
</div>
